<!DOCTYPE html>
<html>
<head>
<title>DDE2</title>

<style type="text/css">

    html {
        font-size: 62.5%;

        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        padding-right: 12px;
    }

    body {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        font-size: 14px;
        line-height: 1.42857143;
        color: #333;
        background-color: #fff;
        padding-top: 50px;
        -moz-user-select: none;
        margin: 0px;
    }

    .starter-template {
        padding: 40px 15px;
        text-align: center;
    }

    .starter-template {
        padding: 40px 15px;
        text-align: center;
    }

    form .alert,
    form .process {
        display: none;
    }

    /*@import url('/bootstrap/css/bootstrap.min.css');
    @import url('/bootstrap/css/bootstrap.css');*/
    /* New styles */

    label.valid {
        width: 24px;
        height: 24px;
        background: url(/images/valid.png) center center no-repeat;
        display: inline-block;
        text-indent: -9999px;
    }

    label.error {
        font-weight: bold;
        color: red;
        padding: 2px 8px;
        margin-top: 2px;
    }

    .head {
        padding-top: 15px !important;
        padding-bottom: 18px !important;
    }

    .submenu-show {
        border-radius: 3px;
        display: block;
        left: 100%;
        margin-top: -25px !important;
        moz-border-radius: 3px;
        position: absolute;
        webkit-border-radius: 3px;
    }

    .submenu-hide {
        display: none !important;
        float: right;
        position: relative;
        top: auto;
    }

    .navbar .submenu-show:before {
        border-bottom: 7px solid transparent;
        border-left: none;
        border-right: 7px solid rgba(0, 0, 0, 0.2);
        border-top: 7px solid transparent;
        left: -7px;
        top: 10px;
    }

    .navbar .submenu-show:after {
        border-bottom: 6px solid transparent;
        border-left: none;
        border-right: 6px solid #fff;
        border-top: 6px solid transparent;
        left: 10px;
        left: -6px;
        top: 11px;
    }

    .table {
        display: table;
        border-spacing: 1px;
    }

    .row {
        display: table-row;
    }

    .cell {
        display: table-cell;
    }

    button {
        font-size: 1em;
        padding: 15px;
        min-width: 120px;
        cursor: pointer;
        min-height: 80px;
        border-radius: 10px !important;
        margin: 3px;
    }

    button:active {
        background-color: #ffc579 !important;
        background-image: -webkit-gradient(linear, left top, left bottom, from(#ffc579), to(#fb9d23)) !important;
        background-image: -webkit-linear-gradient(top, #ffc579, #fb9d23) !important;
        background-image: -moz-linear-gradient(top, #ffc579, #fb9d23) !important;
        background-image: -ms-linear-gradient(top, #ffc579, #fb9d23) !important;
        background-image: -o-linear-gradient(top, #ffc579, #fb9d23) !important;
        background-image: linear-gradient(to bottom, #ffc579, #fb9d23);
        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr=#ffc579, endColorstr=#fb9d23) !important;
    }

    .button_blue {
        border: 1px solid #7eb9d0;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
        font-size: 28px;
        font-family: arial, helvetica, sans-serif;
        padding: 10px 10px 10px 10px;
        text-decoration: none;
        display: inline-block;
        text-shadow: -1px -1px 0 rgba(0, 0, 0, 0.3);
        font-weight: bold;
        color: #FFFFFF;
        background-color: #a7cfdf;
        background-image: -webkit-gradient(linear, left top, left bottom, from(#a7cfdf), to(#23538a));
        background-image: -webkit-linear-gradient(top, #a7cfdf, #23538a);
        background-image: -moz-linear-gradient(top, #a7cfdf, #23538a);
        background-image: -ms-linear-gradient(top, #a7cfdf, #23538a);
        background-image: -o-linear-gradient(top, #a7cfdf, #23538a);
        background-image: linear-gradient(to bottom, #a7cfdf, #23538a);
        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr=#a7cfdf, endColorstr=#23538a);
    }

    .button_blue:hover {
        border: 1px solid #5ca6c4;
        background-color: #82bbd1;
        background-image: -webkit-gradient(linear, left top, left bottom, from(#82bbd1), to(#193b61));
        background-image: -webkit-linear-gradient(top, #82bbd1, #193b61);
        background-image: -moz-linear-gradient(top, #82bbd1, #193b61);
        background-image: -ms-linear-gradient(top, #82bbd1, #193b61);
        background-image: -o-linear-gradient(top, #82bbd1, #193b61);
        background-image: linear-gradient(to bottom, #82bbd1, #193b61);
        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr=#82bbd1, endColorstr=#193b61);
    }

    .button_green {
        border: 1px solid #34740e;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
        font-size: 28px;
        font-family: arial, helvetica, sans-serif;
        padding: 10px 10px 10px 10px;
        text-decoration: none;
        display: inline-block;
        text-shadow: -1px -1px 0 rgba(0, 0, 0, 0.3);
        font-weight: bold;
        color: #FFFFFF;
        background-color: #4ba614;
        background-image: -webkit-gradient(linear, left top, left bottom, from(#4ba614), to(#008c00));
        background-image: -webkit-linear-gradient(top, #4ba614, #008c00);
        background-image: -moz-linear-gradient(top, #4ba614, #008c00);
        background-image: -ms-linear-gradient(top, #4ba614, #008c00);
        background-image: -o-linear-gradient(top, #4ba614, #008c00);
        background-image: linear-gradient(to bottom, #4ba614, #008c00);
        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr=#4ba614, endColorstr=#008c00);
    }

    .button_green:hover {
        border: 1px solid #224b09;
        background-color: #36780f;
        background-image: -webkit-gradient(linear, left top, left bottom, from(#36780f), to(#005900));
        background-image: -webkit-linear-gradient(top, #36780f, #005900);
        background-image: -moz-linear-gradient(top, #36780f, #005900);
        background-image: -ms-linear-gradient(top, #36780f, #005900);
        background-image: -o-linear-gradient(top, #36780f, #005900);
        background-image: linear-gradient(to bottom, #36780f, #005900);
        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr=#36780f, endColorstr=#005900);
    }

    .button_red {
        border: 1px solid #72021c;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
        font-size: 28px;
        font-family: arial, helvetica, sans-serif;
        padding: 10px 10px 10px 10px;
        text-decoration: none;
        display: inline-block;
        text-shadow: -1px -1px 0 rgba(0, 0, 0, 0.3);
        font-weight: bold;
        color: #FFFFFF;
        background-color: #a90329;
        background-image: -webkit-gradient(linear, left top, left bottom, from(#a90329), to(#6d0019));
        background-image: -webkit-linear-gradient(top, #a90329, #6d0019);
        background-image: -moz-linear-gradient(top, #a90329, #6d0019);
        background-image: -ms-linear-gradient(top, #a90329, #6d0019);
        background-image: -o-linear-gradient(top, #a90329, #6d0019);
        background-image: linear-gradient(to bottom, #a90329, #6d0019);
        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr=#a90329, endColorstr=#6d0019);
    }

    .button_red:hover {
        border: 1px solid #450111;
        background-color: #77021d;
        background-image: -webkit-gradient(linear, left top, left bottom, from(#77021d), to(#3a000d));
        background-image: -webkit-linear-gradient(top, #77021d, #3a000d);
        background-image: -moz-linear-gradient(top, #77021d, #3a000d);
        background-image: -ms-linear-gradient(top, #77021d, #3a000d);
        background-image: -o-linear-gradient(top, #77021d, #3a000d);
        background-image: linear-gradient(to bottom, #77021d, #3a000d);
        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr=#77021d, endColorstr=#3a000d);
    }

    .button_gray {
        border: 1px solid #ccc;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
        font-size: 28px;
        font-family: arial, helvetica, sans-serif;
        padding: 10px 10px 10px 10px;
        text-decoration: none;
        display: inline-block;
        text-shadow: -1px -1px 0 rgba(0, 0, 0, 0.3);
        font-weight: bold;
        color: #FFFFFF;
        background-color: #ccc;
        background-image: -webkit-gradient(linear, left top, left bottom, from(#ccc), to(#999));
        background-image: -webkit-linear-gradient(top, #ccc, #999);
        background-image: -moz-linear-gradient(top, #ccc, #999);
        background-image: -ms-linear-gradient(top, #ccc, #999);
        background-image: -o-linear-gradient(top, #ccc, #999);
        background-image: linear-gradient(to bottom, #ccc, #999);
        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr=#ccc, endColorstr=#999);
    }

    .button_gray:hover {
        border: 1px solid #ccc;
        background-color: #ddd;
        background-image: -webkit-gradient(linear, left top, left bottom, from(#333), to(#ccc));
        background-image: -webkit-linear-gradient(top, #333, #ccc);
        background-image: -moz-linear-gradient(top, #333, #ccc);
        background-image: -ms-linear-gradient(top, #333, #ccc);
        background-image: -o-linear-gradient(top, #333, #ccc);
        background-image: linear-gradient(to bottom, #333, #ccc);
        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr=#333, endColorstr=#ccc);
    }

    .bold {
        font-weight: bold;
        color: #284b38;
    }

    .label_cell {
        font-size: 1.2em;
        padding: 5px;
        text-align: right;
        border-bottom: 1px dotted #999;
        border-right: 1px dotted #999;
        width: 25%;
    }

    .input_cell {
        font-size: 1.5em;
        padding: 5px;
        border-bottom: 1px dotted #999;
    }

    .no_bottom {
        border-bottom: none;
    }

    .listing {
        overflow: auto;
        height: 100%;
        margin-top: 0px;
        margin-bottom: 0px;
        padding-left: 0px;
    }

    .listing li {
        color: black;
        list-style: none;
        padding: 10px;
        padding-left: 20px;
        padding-right: 10px;
        margin-top: 1px;
        margin-bottom: 1px;
        font-family: "Nimbus Sans L", "Arial Narrow", sans-serif;
        font-size: 2.5em;
    }

    .selected {
        background-color: lightblue !important;
    }

    .odd {
        background-color: #eee;
    }

    .arrow-up {
        width: 0;
        height: 0;
        border-left: 30px solid transparent;
        border-right: 30px solid transparent;
        cursor: pointer;
        border-bottom: 30px solid #3465a4;
    }

    .arrow-up:hover {
        border-bottom: 30px solid #5ca6c4;
    }

    .arrow-up:active {
        border-bottom: 30px solid #ef8544;
    }

    .arrow-down {
        width: 0;
        height: 0;
        border-left: 30px solid transparent;
        border-right: 30px solid transparent;
        cursor: pointer;
        border-top: 30px solid #3465a4;
    }

    .arrow-down:hover {
        border-top: 30px solid #5ca6c4;
    }

    .arrow-down:active {
        border-top: 30px solid #ef8544;
    }

</style>
</head>
<body onload="resize()" onresize="resize()">

<div id="main" style="padding: 5px; width: 100%; height: 100%; overflow: hidden;
        border: none; margin-top: -50px;">

  <%= yield %>

</div>

<script src="/javascripts/spin.js"></script>

<script>

    "use strict"

    var helpLinks = {
        "Add Patient": "<%= @settings["help_base_url"] rescue "" %>add_patient",
        "Cancel Operation": "<%= @settings["help_base_url"] rescue "" %>cancel",
        "Find Patient": "<%= @settings["help_base_url"] rescue "" %>find_patient",
        "New Patient": "<%= @settings["help_base_url"] rescue "" %>new_patient",
        "Select Patient": "<%= @settings["help_base_url"] rescue "" %>select_patient"
    };

    var spinner;

    function showSpinner() {

        if (!document.getElementById('spin')) {
            var div = document.createElement("div");
            div.id = "spin";
            div.style.position = "absolute";
            div.style.top = ((window.innerHeight / 2) - 80) + "px";
            div.style.left = ((window.innerWidth / 2)) + "px";

            document.body.appendChild(div);
            var opts = {
                lines: 15, // The number of lines to draw
                length: 15, // The length of each line
                width: 8, // The line thickness
                radius: 20, // The radius of the inner circle
                corners: 1, // Corner roundness (0..1)
                rotate: 0, // The rotation offset
                color: '#000', // #rgb or #rrggbb
                speed: 1, // Rounds per second
                trail: 60, // Afterglow percentage
                shadow: false, // Whether to render a shadow
                hwaccel: false, // Whether to use hardware acceleration
                className: 'spinner', // The CSS class to assign to the spinner
                zIndex: 2e9, // The z-index (defaults to 2000000000)
                top: 25, // Top position relative to parent in px
                left: 25 // Left position relative to parent in px
            };
        }

        var target = document.getElementById('spin');
        spinner = new Spinner(opts).spin(target);

        showShield(undefined, false);

    }

    function hideSpinner() {

        spinner.stop();

        if (__$("shield")) {

            document.body.removeChild(__$("shield"));

        }

    }

    function showShield(action, clickCloses) {

        if (clickCloses == undefined) {

            clickCloses = true;

        }

        if (__$("shield")) {

            if (__$("popup")) {

                document.body.removeChild(__$("popup"));

            }

            if (__$("popupkeyboard")) {

                if (action != undefined) {

                    eval(action);

                }

                document.body.removeChild(__$('popupkeyboard'));

            }

            document.body.removeChild(__$("shield"));

        } else {

            var shield = document.createElement("div");
            shield.style.position = "absolute";
            shield.style.backgroundColor = "rgba(0,0,0,0.5)";
            shield.style.top = "0px";
            shield.style.left = "0px";
            shield.style.width = "100%";
            shield.style.height = "100%";
            shield.id = "shield";
            shield.style.zIndex = 1250;

            if (action != undefined) {

                shield.setAttribute("action", action);

            }

            if (clickCloses) {

                shield.onmousedown = function () {

                    if (this.getAttribute("action") != null) {
                        showShield(this.getAttribute("action"));
                    } else {
                        showShield();
                    }

                }

            }

            document.body.appendChild(shield);

        }

    }

</script>

<script type="text/javascript">
    <!--

    "use strict"

    var helpLinks = {
        /*"Find Patient": "<%= @settings["help_base_url"] rescue "" %>find_patient",
        "Register Patient": "<%= @settings["help_base_url"] rescue "" %>new_patient",*/
        "Cancel": "<%= @settings["help_base_url"] rescue "" %>cancel",
        "New Person": "<%= @settings["help_base_url"] rescue "" %>add_patient",
        "Select Person": "<%= @settings["help_base_url"] rescue "" %>select_patient"
    };

    function __$(id) {
        return document.getElementById(id);
    }

    function resize() {
        if (__$("main")) {
            __$("main").style.height = (window.innerHeight - 115) + 'px';
        }
        if (__$("selections")) {
            __$("selections").style.height = (window.innerHeight - 145) + 'px';
        }
        if (__$("captured")) {
            __$("captured").style.height = ((__$("main").offsetHeight - 190) / 2) + 'px';

            __$("captured").style.maxWidth = (window.innerWidth / 2) + 'px';
        }
        if (__$("matched")) {
            __$("matched").style.height = ((__$("main").offsetHeight - 190) / 2) + 'px';

            __$("matched").style.maxWidth = (window.innerWidth / 2) + 'px';
        }
    }

    //-->
</script>

<script src="/javascripts/bht-help.js"></script>

</body>
</html>
